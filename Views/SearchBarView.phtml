<script>

    function disableCheck()
    {

        var radioValue = document.getElementById('searchRadio').value;

        if(radioValue === "Radio_Customer" || radioValue === "Radio_Category" || radioValue === "Radio_Staff")
        {

            document.getElementById("flexSwitchCheckChecked").disabled = true;
            document.getElementById("urgencyID").disabled = true;

        }
        else if (radioValue === "Radio_Problem")
        {

            document.getElementById("flexSwitchCheckChecked").disabled = false;
            document.getElementById("urgencyID").disabled = false;

        }

    }

</script>

<div id="searchSection">
    <form action="SearchBar" method="GET">

        <!--Search Bar-->
        <div class="input-group input-group-lg" id="searchBar">
            <input class="input-group-text" id="searchBarProper" type="text" name="searchBar">
            <input id="searchSubmit" type="submit" name="submitSearchButton">
        </div>

        <div id="filters">

            <p>Search For:</p>

            <div id="radioButtons">
                <!--Radio Button - Customer-->
                <input class="Radio" id="Radio_Customer" type="radio" name="searchRadio" value="1" onchange="disableCheck()" checked="checked">
                <label for="Radio_Customer">Customer</label>

                <!--Radio Button - Problem-->
                <input class="Radio" id="Radio_Problem" type="radio" name="searchRadio" value="2" onchange="disableCheck()">
                <label for="Radio_Problem">Problem</label>

                <!--Radio Button - Category-->
                <input class="Radio" id="Radio_Category" type="radio" name="searchRadio" value="3" onchange="disableCheck()">
                <label for="Radio_Category">Category</label>

                <!--Radio Button - Staff-->
                <input class="Radio" id="Radio_Staff" type="radio" name="searchRadio" value="4" onchange="disableCheck()">
                <label for="Radio_Staff">Colleague</label>
            </div>

            <!--Checkbox-->
            <div class="form-check form-switch" id="switch">
                <input class="form-check-input" id="flexSwitchCheckChecked" type="checkbox" name="searchCheckbox" value="1">
                <label for="Check_If_Resolved">Resolved</label>
            </div>

            <!--Select Dropdown-->
            <select name="urgencyDropdown" id="urgencyID">
                <option value="">All</option>
                <option value="High">High</option>
                <option value="Medium">Medium</option>
                <option value="Low">Low</option>
            </select>

        </div>

    </form>

    <?php

    switch($_GET['searchRadio'])
    {

        // Customer
        case "1":
        {

            // Post what the user has just searched for.
            if (($_GET['searchBar']) != "")
            {

                echo "<h1>" . '"' . $_GET['searchBar'] . '"' . "</h1>";

            }
            else
            {

                echo "<h1>All Customers</h1>";

            }

            foreach ($view->dataset as $lot) {

                echo
                '

                <div id="Query_Post_Customer">
                
                    <h2 id="">Customer</h2>
                    
                    <p id="">First Name: ' . $lot->getFirstName() . '</p>
                    <p id="">Surname: ' . $lot->getLastName() . '</p>
                    <p id="">Email: ' . $lot->getCustomerEmail() . '</p>
                    <p id="">Phone Number: ' . $lot->getCustomerPhoneNumber() . '</p>
                    <p id="">Queries Pending: ' . $lot->getQueryCount() . '</p>
                
                </div>
                
                ';

            }

            break;

        }

        // Problem
        case "2":
        {

            // Post what the user has just searched for.
            if (($_GET['searchBar']) != "")
            {

                echo "<h1>" . '"' . $_GET['searchBar'] . '"' . "</h1>";

            }
            else
            {

                echo "<h1>All Queries</h1>";

            }

            foreach ($view->dataset as $lot) {

                echo
                '

                <div id="Query_Post_Problem">

                    <h1 id="id">' . $lot->getProblemID() . '</h1>
            
                    <p id="category">Category: ' . $lot->getCategory() . '</p>
                    <p id="description">Description: ' . $lot->getDescription() . '</p>
                    <p id="urgency">Urgency: ' . $lot->getUrgency() . '</p>
                    <p id="added">Added: ' . $lot->getAddedTime() . '</p>
                    <p id="resolved">Resolved: ' . $lot->getResolved() . '</p>
                    <p id="staff">Colleague: ' . $lot->getStaffName() . '</p>
            
                </div>
                
                ';

                }

            break;

        }

        // Category
        case "3":
        {

            // Post what the user has just searched for.
            if (($_GET['searchBar']) != "")
            {

                echo "<h1>" . '"' . $_GET['searchBar'] . '"' . "</h1>";

            }
            else
            {

                echo "<h1>All Queries</h1>";

            }

            foreach ($view->dataset as $lot) {

                echo
                '

                <div id="Query_Post_Category">

                    <h1 id="id">' . $lot->getProblemID() . '</h1>
            
                    <p id="category">Category: ' . $lot->getCategory() . '</p>
                    <p id="description">Description: ' . $lot->getDescription() . '</p>
                    <p id="urgency">Urgency: ' . $lot->getUrgency() . '</p>
                    <p id="added">Added: ' . $lot->getAddedTime() . '</p>
                    <p id="resolved">Resolved: ' . $lot->getResolved() . '</p>
                    <p id="staff">Colleague: ' . $lot->getStaffName() . '</p>
            
                </div>
                
                ';

            }

            break;

        }

        // Staff
        case "4":
        {

            // Post what the user has just searched for.
            if (($_GET['searchBar']) != "")
            {

                echo "<h1>" . '"' . $_GET['searchBar'] . '"' . "</h1>";

            }
            else
            {

                echo "<h1>All Queries</h1>";

            }

            foreach ($view->dataset as $lot) {

                echo
                '

                <div id="Query_Post_Staff">

                    <h1 id="id">' . $lot->getProblemID() . '</h1>
            
                    <p id="category">Category: ' . $lot->getCategory() . '</p>
                    <p id="description">Description: ' . $lot->getDescription() . '</p>
                    <p id="urgency">Urgency: ' . $lot->getUrgency() . '</p>
                    <p id="added">Added: ' . $lot->getAddedTime() . '</p>
                    <p id="resolved">Resolved: ' . $lot->getResolved() . '</p>
                    <p id="staff">Colleague: ' . $lot->getStaffName() . '</p>
            
                </div>
                
                ';

            }

            break;

        }

    }

?>

</div>